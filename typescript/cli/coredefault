import { CoreConfig, HookType, IsmType } from "@hyperlane-xyz/sdk";
import { detectAndConfirmOrPrompt } from "../utils/chains.js";

  const deployer = await detectAndConfirmOrPrompt(
    async () => {
      const accounts = await provider.listAccounts();
      return accounts[0];
    },
    'address',
    'Enter a deployer',
  );

  const coreConfig: CoreConfig = {
    owner: deployer,
    defaultHook: {
      type: HookType.MERKLE_TREE,
    },
    requiredHook: {
      type: HookType.PROTOCOL_FEE,
      owner: deployer,
      beneficiary: deployer,
      protocolFee: '0',
      maxProtocolFee: '10000000000000',
    },
    defaultIsm: {
      type: IsmType.TRUSTED_RELAYER,
      relayer: deployer,
    },
  };

export default coreConfig;
